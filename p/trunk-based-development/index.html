<!doctype html><html lang=en dir=ltr><head><meta charset=utf-8><meta name=viewport content='width=device-width,initial-scale=1'><meta name=description content="At my previous company (let's call it company A), the project source code was huge—just cloning it was 40GB, and after compiling and building, it reached nearly 100GB."><title>Trunk Based Development – a Git workflow to reduce the headache of resolving conflicts</title><link rel=canonical href=https://namanh11611.github.io/p/trunk-based-development/><link rel=stylesheet href=/scss/style.min.946cca6c6259ef94ac55abfae7c7bf3291ea3ed5eea17ef77500b257217c6710.css><meta property='og:title' content="Trunk Based Development – a Git workflow to reduce the headache of resolving conflicts"><meta property='og:description' content="At my previous company (let's call it company A), the project source code was huge—just cloning it was 40GB, and after compiling and building, it reached nearly 100GB."><meta property='og:url' content='https://namanh11611.github.io/p/trunk-based-development/'><meta property='og:site_name' content='Henry Techie'><meta property='og:type' content='article'><meta property='article:section' content='Post'><meta property='article:tag' content='Git'><meta property='article:tag' content='Trunk Based Development'><meta property='article:published_time' content='2023-05-03T02:07:00+07:00'><meta property='article:modified_time' content='2023-05-03T02:07:00+07:00'><meta property='og:image' content='https://namanh11611.github.io/p/trunk-based-development/tbd.webp'><meta name=twitter:title content="Trunk Based Development – a Git workflow to reduce the headache of resolving conflicts"><meta name=twitter:description content="At my previous company (let's call it company A), the project source code was huge—just cloning it was 40GB, and after compiling and building, it reached nearly 100GB."><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content='https://namanh11611.github.io/p/trunk-based-development/tbd.webp'><link rel="shortcut icon" href=/favicon.png></head><body class=article-page><script>(function(){const e="StackColorScheme";localStorage.getItem(e)||localStorage.setItem(e,"auto")})()</script><script>(function(){const t="StackColorScheme",e=localStorage.getItem(t),n=window.matchMedia("(prefers-color-scheme: dark)").matches===!0;e=="dark"||e==="auto"&&n?document.documentElement.dataset.scheme="dark":document.documentElement.dataset.scheme="light"})()</script><div class="container main-container flex on-phone--column extended"><aside class="sidebar left-sidebar sticky"><button class="hamburger hamburger--spin" type=button id=toggle-menu aria-label="Toggle Menu">
<span class=hamburger-box><span class=hamburger-inner></span></span></button><header><figure class=site-avatar><a href=/><img src=/img/avatar_hu_94a738b6dc80b619.webp width=300 height=300 class=site-logo loading=lazy alt=Avatar></a></figure><div class=site-meta><h1 class=site-name><a href=/>Henry Techie</a></h1><h2 class=site-description>Software Engineer</h2></div></header><ol class=menu-social><li><a href=https://linkedin.com/in/namanh11611 target=_blank title=LinkedIn rel=me><svg class="icon icon-tabler icon-tabler-brand-linkedin" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M4 4m0 2a2 2 0 012-2h12a2 2 0 012 2v12a2 2 0 01-2 2H6a2 2 0 01-2-2z"/><path d="M8 11v5"/><path d="M8 8v.01"/><path d="M12 16v-5"/><path d="M16 16v-3a2 2 0 00-4 0"/></svg></a></li><li><a href=https://github.com/namanh11611 target=_blank title=GitHub rel=me><svg class="icon icon-tabler icon-tabler-brand-github" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M9 19c-4.3 1.4-4.3-2.5-6-3m12 5v-3.5c0-1 .1-1.4-.5-2 2.8-.3 5.5-1.4 5.5-6a4.6 4.6.0 00-1.3-3.2 4.2 4.2.0 00-.1-3.2s-1.1-.3-3.5 1.3a12.3 12.3.0 00-6.2.0C6.5 2.8 5.4 3.1 5.4 3.1a4.2 4.2.0 00-.1 3.2A4.6 4.6.0 004 9.5c0 4.6 2.7 5.7 5.5 6-.6.6-.6 1.2-.5 2V21"/></svg></a></li><li><a href=https://viblo.asia/u/namanh11611 target=_blank title=Viblo rel=me><svg class="icon icon-tabler icon-tabler-letter-v" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M6 4l6 16 6-16"/></svg></a></li><li><a href=https://twitter.com/namanh11611 target=_blank title=Twitter rel=me><svg class="icon icon-tabler icon-tabler-brand-twitter" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M22 4.01c-1 .49-1.98.689-3 .99-1.121-1.265-2.783-1.335-4.38-.737S11.977 6.323 12 8v1c-3.245.083-6.135-1.395-8-4 0 0-4.182 7.433 4 11-1.872 1.247-3.739 2.088-6 2 3.308 1.803 6.913 2.423 10.034 1.517 3.58-1.04 6.522-3.723 7.651-7.742a13.84 13.84.0 00.497-3.753C20.18 7.773 21.692 5.25 22 4.009z"/></svg></a></li><li><a href=https://facebook.com/namanh11611 target=_blank title=Facebook rel=me><svg class="icon icon-tabler icon-tabler-brand-facebook" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M7 10v4h3v7h4v-7h3l1-4h-4V8a1 1 0 011-1h3V3h-3a5 5 0 00-5 5v2H7"/></svg></a></li></ol><ol class=menu id=main-menu><li><a href=/><svg class="icon icon-tabler icon-tabler-home" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><polyline points="5 12 3 12 12 3 21 12 19 12"/><path d="M5 12v7a2 2 0 002 2h10a2 2 0 002-2v-7"/><path d="M9 21v-6a2 2 0 012-2h2a2 2 0 012 2v6"/></svg>
<span>Home</span></a></li><li><a href=/about-me/><svg class="icon icon-tabler icon-tabler-user" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="7" r="4"/><path d="M6 21v-2a4 4 0 014-4h4a4 4 0 014 4v2"/></svg>
<span>About Me</span></a></li><li><a href=/archives/><svg class="icon icon-tabler icon-tabler-archive" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><rect x="3" y="4" width="18" height="4" rx="2"/><path d="M5 8v10a2 2 0 002 2h10a2 2 0 002-2V8"/><line x1="10" y1="12" x2="14" y2="12"/></svg>
<span>Archives</span></a></li><li><a href=/search/><svg class="icon icon-tabler icon-tabler-search" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="10" cy="10" r="7"/><line x1="21" y1="21" x2="15" y2="15"/></svg>
<span>Search</span></a></li><li class=menu-bottom-section><ol class=menu><li id=i18n-switch><svg class="icon icon-tabler icon-tabler-language" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M4 5h7"/><path d="M9 3v2c0 4.418-2.239 8-5 8"/><path d="M5 9c-.003 2.144 2.952 3.908 6.7 4"/><path d="M12 20l4-9 4 9"/><path d="M19.1 18h-6.2"/></svg>
<select name=language title=language onchange="window.location.href=this.selectedOptions[0].value"><option value=https://namanh11611.github.io/ selected>English</option><option value=https://namanh11611.github.io/vi/>Tiếng Việt</option></select></li><li id=dark-mode-toggle><svg class="icon icon-tabler icon-tabler-toggle-left" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="8" cy="12" r="2"/><rect x="2" y="6" width="20" height="12" rx="6"/></svg>
<svg class="icon icon-tabler icon-tabler-toggle-right" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="16" cy="12" r="2"/><rect x="2" y="6" width="20" height="12" rx="6"/></svg>
<span>Dark Mode</span></li></ol></li></ol></aside><aside class="sidebar right-sidebar sticky"><section class="widget archives"><div class=widget-icon><svg class="icon icon-tabler icon-tabler-hash" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><line x1="5" y1="9" x2="19" y2="9"/><line x1="5" y1="15" x2="19" y2="15"/><line x1="11" y1="4" x2="7" y2="20"/><line x1="17" y1="4" x2="13" y2="20"/></svg></div><h2 class="widget-title section-title">Table of contents</h2><div class=widget--toc><nav id=TableOfContents><ol><li><a href=#case-study>Case study</a><ol><li><a href=#the-first-story>The first story</a></li><li><a href=#the-second-story>The second story</a></li></ol></li><li><a href=#so-what-is-trunk-based-development>So what is Trunk Based Development?</a><ol><li><a href=#tbd-for-small-teams>TBD for small teams</a></li><li><a href=#tbd-for-large-teams>TBD for large teams</a></li><li><a href=#feature-flag>Feature flag</a></li></ol></li><li><a href=#advantages>Advantages</a><ol><li><a href=#fewer-conflicts-less-code-review-time>Fewer conflicts, less code review time</a></li><li><a href=#cicd>CI/CD</a></li><li><a href=#ab-testing>A/B Testing</a></li><li><a href=#fast-product-delivery>Fast product delivery</a></li></ol></li><li><a href=#disadvantages>Disadvantages</a><ol><li><a href=#too-much-leftover-code>Too much leftover code</a></li><li><a href=#not-suitable-for-teams-with-many-juniors>Not suitable for teams with many juniors</a></li></ol></li><li><a href=#conclusion>Conclusion</a></li><li><a href=#reference>Reference</a></li></ol></nav></div></section></aside><main class="main full-width"><article class="has-image main-article"><header class=article-header><div class=article-image><a href=/p/trunk-based-development/><img src=/p/trunk-based-development/tbd_hu_bfa5ea7aeb79128d.webp srcset="/p/trunk-based-development/tbd_hu_bfa5ea7aeb79128d.webp 800w, /p/trunk-based-development/tbd_hu_fd9d98920d1d0f60.webp 1600w" width=800 height=536 loading=lazy alt="Featured image of post Trunk Based Development – a Git workflow to reduce the headache of resolving conflicts"></a></div><div class=article-details><header class=article-category><a href=/categories/technical/ style=background-color:#e60f41;color:#fff>Technical</a></header><div class=article-title-wrapper><h2 class=article-title><a href=/p/trunk-based-development/>Trunk Based Development – a Git workflow to reduce the headache of resolving conflicts</a></h2><h3 class=article-subtitle>At my previous company (let's call it company A), the project source code was huge—just cloning it was 40GB, and after compiling and building, it reached nearly 100GB.</h3></div><footer class=article-time><div><svg class="icon icon-tabler icon-tabler-calendar-time" width="56" height="56" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><path d="M11.795 21H5a2 2 0 01-2-2V7a2 2 0 012-2h12a2 2 0 012 2v4"/><circle cx="18" cy="18" r="4"/><path d="M15 3v4"/><path d="M7 3v4"/><path d="M3 11h16"/><path d="M18 16.496V18l1 1"/></svg>
<time class=article-time--published>May 03, 2023</time></div><div><svg class="icon icon-tabler icon-tabler-clock" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="12" r="9"/><polyline points="12 7 12 12 15 15"/></svg>
<time class=article-time--reading>6 minute read</time></div></footer><footer class=article-translations><svg class="icon icon-tabler icon-tabler-language" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M4 5h7"/><path d="M9 3v2c0 4.418-2.239 8-5 8"/><path d="M5 9c-.003 2.144 2.952 3.908 6.7 4"/><path d="M12 20l4-9 4 9"/><path d="M19.1 18h-6.2"/></svg><div><a href=https://namanh11611.github.io/vi/p/trunk-based-development/ class=link>Tiếng Việt</a></div></footer></div></header><section class=article-content><h1 id=case-study>Case study</h1><h2 id=the-first-story>The first story</h2><p>At my previous company (let&rsquo;s call it company A), the project source code was huge—just cloning it was 40GB, and after compiling and building, it reached nearly 100GB. Every time someone coded a feature, they would usually checkout a new branch like feature_x. For small features, it was fine, but for big features that changed dozens or even hundreds of files, merging into the main branch was a nightmare because you had to resolve conflicts from other feature branches that had been merged earlier.</p><h2 id=the-second-story>The second story</h2><p>At another company (company B), due to the nature of the project, it was split into 5 small teams, each with about 3 developers. Each team was responsible for a few features in a sprint. At the start of the sprint, the dev lead would create a branch for each team, and after the sprint, all 5 branches would be merged. The same problem occurred: merging code resulted in a lot of conflicts, and teams had to spend time retesting their features to ensure no bugs appeared after merging.</p><h1 id=so-what-is-trunk-based-development>So what is Trunk Based Development?</h1><p>In short, <strong>Trunk Based Development</strong> (from now on, <strong>TBD</strong>) is a <strong>source-control branching model</strong> where all developers work on <strong>a single branch</strong> called the <strong>trunk</strong> (like the trunk of a tree), avoiding the creation of huge feature branches. The <strong>trunk</strong> branch must always be ready for release at any time. In projects, people usually name the trunk branch <strong>master</strong> or <strong>dev</strong>.</p><p>TBD is divided into two smaller models, suitable for different team sizes. Let&rsquo;s explore them.</p><h2 id=tbd-for-small-teams>TBD for small teams</h2><p><img src=/p/trunk-based-development/small.webp width=728 height=329 srcset="/p/trunk-based-development/small_hu_2d360eb948a95de0.webp 480w, /p/trunk-based-development/small_hu_55d340bd05a8673d.webp 1024w" loading=lazy alt="Small TBD" class=gallery-image data-flex-grow=221 data-flex-basis=531px></p><p>In this model, the whole dev team pushes code directly to the trunk branch. However, this model carries a big risk for code quality, since code is pushed directly without review. To use this model, devs must have strong technical skills to ensure every line they push doesn&rsquo;t introduce bugs for the team.</p><p>Personally, I think this model is only suitable for teams of 5 or fewer.</p><h2 id=tbd-for-large-teams>TBD for large teams</h2><p><img src=/p/trunk-based-development/scaled.webp width=726 height=366 srcset="/p/trunk-based-development/scaled_hu_4474fb7708f30287.webp 480w, /p/trunk-based-development/scaled_hu_1463af6fb6a09d38.webp 1024w" loading=lazy alt="Scaled TBD" class=gallery-image data-flex-grow=198 data-flex-basis=476px></p><p>With TBD for a large team, feature branches are still created, but the difference is they only exist for a short time—just a few commits before merging back to the trunk branch.</p><p>For example, when assigned to code the Onboarding feature, with the usual Git flow, you might:</p><ol><li>Create a <strong>feature/onboarding</strong> branch</li><li>Code the Welcome screen and commit</li><li>Code the Register screen and commit</li><li>Code the Login screen and commit</li><li>After finishing, create a merge request and wait for review</li><li>After review, merge <strong>feature/onboarding</strong> into <strong>dev</strong></li></ol><p>With this process, a merge request can contain dozens of changed files, and reviewing that much code is a nightmare. Sometimes, when you create the merge request, there are conflicts with another feature that was merged into <strong>dev</strong> earlier, and you have to spend time resolving conflicts.</p><p><img src=/p/trunk-based-development/lgtm.webp width=825 height=396 srcset="/p/trunk-based-development/lgtm_hu_70bc3d652da2ff2a.webp 480w, /p/trunk-based-development/lgtm_hu_40d76df1d483dda1.webp 1024w" loading=lazy alt=LGTM class=gallery-image data-flex-grow=208 data-flex-basis=500px></p><p>For reviewers, sometimes the only way out of the nightmare is to stop dreaming—meaning the senior dev quickly leaves a short comment <strong>LGTM</strong> (Look good to me), and the junior dev easily merges code into <strong>dev</strong>. Or, even if the senior dev tries to review carefully, with so many changes, some bugs still slip through. In short, this process still risks letting bugs through.</p><p>With TBD, the process is adjusted a bit:</p><ol><li>Create <strong>feature/welcome_screen</strong> branch</li><li>Code the Welcome screen, commit, and create a merge request immediately</li><li>While waiting for review, code the Register screen</li><li>When the Welcome screen merge request is approved, checkout <strong>feature/register_screen</strong> and create a new merge request</li><li>Do the same for the Login screen</li></ol><p>Now, each merge request only contains a few changed files, making it much easier for the senior dev to review.</p><p>And even if the release branch has a bug and needs a hotfix, devs don&rsquo;t merge directly into the release branch as in other models—everything must be merged into the trunk branch.</p><h2 id=feature-flag>Feature flag</h2><p>You might wonder: doesn&rsquo;t this mean the <strong>dev</strong> branch will be full of unfinished feature code? For example, the app will show the new Welcome screen UI, while Register and Login screens still have the old UI. So how can you ensure the trunk branch is always ready for release?</p><p>The key is the <strong>Feature flag</strong>. For each unfinished feature, you add a flag so that when it&rsquo;s on, all the new feature code is active, and when it&rsquo;s off, the app works as before. For example:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=n>ONBOARDING_FLAG</span><span class=w> </span><span class=o>==</span><span class=w> </span><span class=n>FLAG_ON</span><span class=p>)</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>displayNewWelcomeScreen</span><span class=p>()</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>}</span><span class=w> </span><span class=k>else</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>displayOldWelcomeScreen</span><span class=p>()</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=n>ONBOARDING_FLAG</span><span class=w> </span><span class=o>==</span><span class=w> </span><span class=n>FLAG_ON</span><span class=p>)</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>displayNewRegisterScreen</span><span class=p>()</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>}</span><span class=w> </span><span class=k>else</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>displayOldRegisterScreen</span><span class=p>()</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=n>ONBOARDING_FLAG</span><span class=w> </span><span class=o>==</span><span class=w> </span><span class=n>FLAG_ON</span><span class=p>)</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>displayNewLoginScreen</span><span class=p>()</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>}</span><span class=w> </span><span class=k>else</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>displayOldLoginScreen</span><span class=p>()</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>}</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><p>Sometimes, if you want to revert a feature, just turn off its flag. Quick and easy, right?</p><h1 id=advantages>Advantages</h1><h2 id=fewer-conflicts-less-code-review-time>Fewer conflicts, less code review time</h2><p>As mentioned above, TBD requires everyone to quickly merge their code into the trunk branch, which helps reduce conflicts and code review time.</p><p>In company B&rsquo;s case study, after seeing the current model wasn&rsquo;t effective, I suggested the dev lead try TBD. As expected, in each sprint, our team hardly had to spend time resolving conflicts anymore.</p><h2 id=cicd>CI/CD</h2><p>TBD is very useful for CI/CD. Now you only need to set up and run CI/CD on a single branch. Every commit is quickly checked for coding conventions and unit tests, making it easy for the team to spot and fix errors in time.</p><h2 id=ab-testing>A/B Testing</h2><p>With feature flags, it&rsquo;s easy to turn features on and off, making it convenient for Product Managers to set up A/B Testing. This helps measure and accurately evaluate the effectiveness of new features.</p><p>In company A&rsquo;s first case study, we actually applied feature flags to many important features for A/B testing.</p><h2 id=fast-product-delivery>Fast product delivery</h2><p>Since the code in the trunk branch is always ready for release, I think it&rsquo;s quite suitable for startups. Whenever you want to release a new version, just checkout from the trunk branch, turn on the completed feature flags, turn off the unfinished ones, and build.</p><h1 id=disadvantages>Disadvantages</h1><h2 id=too-much-leftover-code>Too much leftover code</h2><p>On the flip side, using <strong>feature flags</strong> and too many if-else statements can make your code more complex. Sometimes, unclear if-else logic can make it even harder for reviewers to understand.</p><p>And when a feature is released, you have to go back and remove the old code flow, like the <code>displayOldWelcomeScreen</code>, <code>displayOldRegisterScreen</code>, and <code>displayOldLoginScreen</code> functions in the example above.</p><h2 id=not-suitable-for-teams-with-many-juniors>Not suitable for teams with many juniors</h2><p>Constantly creating merge requests requires devs to be careful, ensuring every commit passes all coding convention checks and unit tests locally, and especially that there are no critical bugs. If a bug on the trunk branch prevents the app from opening, it blocks everyone else.</p><p>If using feature flags, devs also need to test both the old and new flows to ensure both work correctly.</p><p>So I think a team mostly made up of seniors is more suitable for this model.</p><h1 id=conclusion>Conclusion</h1><p>TBD is a workflow I&rsquo;ve applied at several companies and found it quite effective for my team&rsquo;s situation. You can consider the pros and cons and try it with your team.</p><h1 id=reference>Reference</h1><ul><li><a class=link href=https://trunkbaseddevelopment.com/ target=_blank rel=noopener>https://trunkbaseddevelopment.com/</a></li></ul></section><footer class=article-footer><section class=article-tags><a href=/tags/git/>Git</a>
<a href=/tags/trunk-based-development/>Trunk Based Development</a></section><section class=article-copyright><svg class="icon icon-tabler icon-tabler-copyright" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="12" r="9"/><path d="M14.5 9a3.5 4 0 100 6"/></svg>
<span>Licensed under CC BY-NC-SA 4.0</span></section></footer></article><aside class=related-content--wrapper><h2 class=section-title>Related content</h2><div class=related-content><div class="flex article-list--tile"><article class=has-image><a href=/p/git-branching-strategy/><div class=article-image><img src=/p/git-branching-strategy/strategy.2ee9d28d11209cb6e0c12a89b0b8bf5c_hu_801345819661d330.webp width=250 height=150 loading=lazy alt="Featured image of post Gitflow, GitHub Flow, GitLab Flow, Trunk-Based Development: Which Git Branching Strategy is Right for You?" data-key=git-branching-strategy data-hash="md5-LunSjREgnLbgwSqJsLi/XA=="></div><div class=article-details><h2 class=article-title>Gitflow, GitHub Flow, GitLab Flow, Trunk-Based Development: Which Git Branching Strategy is Right for You?</h2></div></a></article><article class=has-image><a href=/p/git-process/><div class=article-image><img src=/p/git-process/git.c00905e0404c97087a4a4102badfb59c_hu_7652f5173bf11091.webp width=250 height=150 loading=lazy alt="Featured image of post A Proper Workflow with Git" data-key=git-process data-hash="md5-wAkF4EBMlwh6SkECut+1nA=="></div><div class=article-details><h2 class=article-title>A Proper Workflow with Git</h2></div></a></article><article class=has-image><a href=/p/isolate/><div class=article-image><img src=/p/isolate/isolate.a3cb4fe7ed0ce7248c9485d6be89a44a_hu_af7cf231826e50f0.webp width=250 height=150 loading=lazy alt="Featured image of post Isolate in Flutter: The Savior for Heavy Tasks" data-key=isolate data-hash="md5-o8tP5+0M5ySMlIXWvomkSg=="></div><div class=article-details><h2 class=article-title>Isolate in Flutter: The Savior for Heavy Tasks</h2></div></a></article><article class=has-image><a href=/p/key/><div class=article-image><img src=/p/key/key.ffa9020b042c3c13187b8126c79e9a5f_hu_72723f8005d91689.webp width=250 height=150 loading=lazy alt="Featured image of post Investigation Case: Decoding the Mystery of Key in Flutter" data-key=key data-hash="md5-/6kCCwQsPBMYe4Emx56aXw=="></div><div class=article-details><h2 class=article-title>Investigation Case: Decoding the Mystery of Key in Flutter</h2></div></a></article><article class=has-image><a href=/p/memory-leak/><div class=article-image><img src=/p/memory-leak/memory_leak.6943e39c7b0fae6d6026352e261b8ead_hu_5f232c3c5a31d610.webp width=250 height=150 loading=lazy alt="Featured image of post IT Doctor Diagnoses Common Memory Leak Cases in Android" data-key=memory-leak data-hash="md5-aUPjnHsPrm1gJjUuJhuOrQ=="></div><div class=article-details><h2 class=article-title>IT Doctor Diagnoses Common Memory Leak Cases in Android</h2></div></a></article></div></div></aside><div class=disqus-container><div id=disqus_thread></div><script>window.disqus_config=function(){},function(){if(["localhost","127.0.0.1"].indexOf(window.location.hostname)!=-1){document.getElementById("disqus_thread").innerHTML="Disqus comments not available by default when the website is previewed locally.";return}var t=document,e=t.createElement("script");e.async=!0,e.src="//henry-techie.disqus.com/embed.js",e.setAttribute("data-timestamp",+new Date),(t.head||t.body).appendChild(e)}()</script><noscript>Please enable JavaScript to view the <a href=https://disqus.com/?ref_noscript>comments powered by Disqus.</a></noscript><a href=https://disqus.com class=dsq-brlink>comments powered by <span class=logo-disqus>Disqus</span></a></div><style>.disqus-container{background-color:var(--card-background);border-radius:var(--card-border-radius);box-shadow:var(--shadow-l1);padding:var(--card-padding)}</style><script>window.addEventListener("onColorSchemeChange",e=>{typeof DISQUS=="object"&&DISQUS.reset({reload:!0})})</script><footer class=site-footer><section class=copyright>&copy;
2019 -
2025 Henry Techie</section><section class=powerby>Built with <a href=https://gohugo.io/ target=_blank rel=noopener>Hugo</a><br>Theme <b><a href=https://github.com/CaiJimmy/hugo-theme-stack target=_blank rel=noopener data-version=3.30.0>Stack</a></b> designed by <a href=https://jimmycai.com target=_blank rel=noopener>Jimmy</a></section></footer><div class=pswp tabindex=-1 role=dialog aria-hidden=true><div class=pswp__bg></div><div class=pswp__scroll-wrap><div class=pswp__container><div class=pswp__item></div><div class=pswp__item></div><div class=pswp__item></div></div><div class="pswp__ui pswp__ui--hidden"><div class=pswp__top-bar><div class=pswp__counter></div><button class="pswp__button pswp__button--close" title="Close (Esc)"></button>
<button class="pswp__button pswp__button--share" title=Share></button>
<button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>
<button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button><div class=pswp__preloader><div class=pswp__preloader__icn><div class=pswp__preloader__cut><div class=pswp__preloader__donut></div></div></div></div></div><div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap"><div class=pswp__share-tooltip></div></div><button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
</button>
<button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)"></button><div class=pswp__caption><div class=pswp__caption__center></div></div></div></div></div><script src=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.js integrity="sha256-ePwmChbbvXbsO02lbM3HoHbSHTHFAeChekF1xKJdleo=" crossorigin=anonymous defer></script><script src=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe-ui-default.min.js integrity="sha256-UKkzOn/w1mBxRmLLGrSeyB4e1xbrp4xylgAWb3M42pU=" crossorigin=anonymous defer></script><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/default-skin/default-skin.min.css crossorigin=anonymous><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.css crossorigin=anonymous></main></div><script src=https://cdn.jsdelivr.net/npm/node-vibrant@3.1.6/dist/vibrant.min.js integrity="sha256-awcR2jno4kI5X0zL8ex0vi2z+KMkF24hUW8WePSA9HM=" crossorigin=anonymous></script><script type=text/javascript src=/ts/main.1e9a3bafd846ced4c345d084b355fb8c7bae75701c338f8a1f8a82c780137826.js defer></script><script>(function(){const e=document.createElement("link");e.href="https://fonts.googleapis.com/css2?family=Lato:wght@300;400;700&display=swap",e.type="text/css",e.rel="stylesheet",document.head.appendChild(e)})()</script><script data-goatcounter=https://henry-techie.goatcounter.com/count async src=//gc.zgo.at/count.js></script></body></html>